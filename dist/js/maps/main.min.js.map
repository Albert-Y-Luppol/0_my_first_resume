{"version":3,"sources":["main.js"],"names":["Animations","[object Object]","timing","draw","duration","start","performance","now","requestAnimationFrame","animate","time","timeFraction","progress","Box","box","Door","door","left","super","this","dom","transform","translateZ","rotateX","rebuildDom","style","_constructTransform","opened","rotateY","rotateZ","scaleY","translateX","translateY","leftDoor","querySelector","rightDoor","open","close","document","getElementById","setTimeout","hidden","skills","querySelectorAll","stack","forEach","skill","classList","add","append","temp","createElement","innerHTML","tempWrapFn","addEventListener","evt","firstTouch","touches","originalEvent","getTouches","xDown","clientX","yDown","clientY","xUp","yUp","xDiff","yDiff","alignmentToNav","window","innerWidth","Math","abs","checked","getTimeStringFromTo","dateObjFrom","dateObjTo","Date","years","months","from","getTime","to","getDate","setDate","getMonth","setMonth","getFullYear","setFullYear","jobs","rembud","cpi","rembudStartDate","cpiStartDate","addTimeToEmployments","img","imgClass","naturalWidth","naturalHeight","input","value","length","remove","slides","h","offsetWidth","tan","PI","slide","i","cssText","right","rotationAngle","rotationStep","onclick","myCarosel"],"mappings":"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","file":"../main.min.js","sourcesContent":["(()=>{\r\n    'use strict';\r\n\r\n    {\r\n        class Animations{\r\n        \r\n            animate({timing, draw, duration}) {\r\n        \r\n                let start = performance.now();\r\n              \r\n                requestAnimationFrame(function animate(time) {\r\n                  // timeFraction goes from 0 to 1\r\n                  let timeFraction = (time - start) / duration;\r\n                  if (timeFraction > 1) timeFraction = 1;\r\n              \r\n                  // calculate the current animation state\r\n                  let progress = timing(timeFraction);\r\n              \r\n                  draw(progress); // draw it\r\n              \r\n                  if (timeFraction < 1) {\r\n                    requestAnimationFrame(animate);\r\n                  }\r\n              \r\n                });\r\n            }\r\n        }\r\n        \r\n        \r\n        class Box {\r\n            constructor(box){\r\n        \r\n                class Door extends Animations{\r\n                    constructor(door, left = true){\r\n                        super();\r\n                        this.left = left;\r\n                        this.dom = door;\r\n                        this.transform = {\r\n                            translateZ: left ? 0 : -100,\r\n                            rotateX: left ? 270 : 90 //- closed 270 / 90 (open = 60 / 300) \r\n                        }\r\n        \r\n                        this.rebuildDom();\r\n                    }\r\n                    \r\n                    _constructTransform(){\r\n                        return `translateZ(${this.transform.translateZ}px) rotateX(${this.transform.rotateX}deg)`;\r\n                    }\r\n        \r\n                    rebuildDom(){\r\n                        this.dom.style.transform = `${this._constructTransform()}`;\r\n                    }\r\n        \r\n                    open(){\r\n                        this.transform.rotateX = this.left ? 60 : 300;\r\n                        this.rebuildDom();\r\n                    }\r\n        \r\n                    close(){\r\n                        this.transform.rotateX = this.left ? 270 : 90;\r\n                        this.rebuildDom();\r\n                    }\r\n                }\r\n                \r\n        \r\n        \r\n                this.dom = box;\r\n                this.opened = false;\r\n                this.transform = {\r\n                    rotateX : -20,\r\n                    rotateY : -80,\r\n                    rotateZ :  0,\r\n                    scaleY :  1,\r\n                    translateX :  0,\r\n                    translateY :  0,\r\n                    translateZ :  0,\r\n                };\r\n                this.leftDoor = new Door(this.dom.querySelector('.box__side--top-left'));\r\n                this.rightDoor = new Door(this.dom.querySelector('.box__side--top-right'), false);\r\n        \r\n                this.rebuildDom();\r\n            }\r\n        \r\n            _constructTransform(){\r\n                return `rotateX(${this.transform.rotateX}deg) rotateY(${this.transform.rotateY}deg) rotateZ(${this.transform.rotateZ}deg) scaleY(${this.transform.scaleY}) translateX(${this.transform.translateX}px) translateY(${this.transform.translateY}px) translateZ(${this.transform.translateZ}px)`;\r\n            }\r\n        \r\n            rebuildDom(){\r\n                this.dom.style.transform = `${this._constructTransform()}`;\r\n            }\r\n        \r\n            open(){\r\n                this.leftDoor.open();\r\n                this.rightDoor.open();\r\n            }\r\n        \r\n            close(){\r\n                this.leftDoor.close();\r\n                this.rightDoor.close();\r\n            }\r\n        }\r\n        \r\n        let box = new Box(document.getElementById('skillsBox'));\r\n        \r\n        \r\n        setTimeout(()=>{box.open()}, 2000);\r\n        \r\n        setTimeout(()=>{box.close()}, 4000);\r\n        \r\n        tempWrapFn(); // ----------------------temp--------------------------\r\n        \r\n        let setFE, setJS, setOther, setPM, supersetFE, supersetJS, supersetOther, supersetPM, hover;\r\n        \r\n        // box.rebuildDom();\r\n        \r\n        // setUpAnimationElements();\r\n        \r\n        \r\n        // functions\r\n        \r\n        \r\n        function closingBoxAnimation(){\r\n            alert('Closed!');\r\n        }\r\n        \r\n        \r\n        function openBoxAnimation(){\r\n            alert('Open!');\r\n        }\r\n        \r\n        \r\n        function setBoxTransformation(){\r\n        \r\n        }\r\n        \r\n        \r\n        function setUpAnimationElements(){\r\n        \r\n            setBoxTransformation();\r\n        \r\n            box.dom.addEventListener('click', ()=>{\r\n        \r\n                box.opened = !box.opened;\r\n                if(box.opened) {\r\n                    openBoxAnimation();\r\n                    return;\r\n                }\r\n        \r\n                closingBoxAnimation();\r\n        \r\n            });\r\n        \r\n            setUpBoxWaitingAnimations();\r\n        }\r\n        \r\n        \r\n        function animateInfinite({timing, draw, duration}) {\r\n        \r\n            let start = performance.now();\r\n          \r\n            requestAnimationFrame(function animate(time) {\r\n              // timeFraction goes from 0 to 1\r\n                let timeFraction = (time - start) / duration;\r\n        \r\n                if (timeFraction >= 1) {\r\n                    start = time;\r\n                    timeFraction = 0;\r\n                }\r\n          \r\n                // calculate the current animation state\r\n                let progress = timing(timeFraction);\r\n          \r\n                draw(progress); // draw it\r\n          \r\n                if (timeFraction < 1) {\r\n                    requestAnimationFrame(animate);\r\n                }\r\n          \r\n            });\r\n        }\r\n        \r\n        \r\n        function animate({timing, draw, duration}) {\r\n        \r\n            let start = performance.now();\r\n          \r\n            requestAnimationFrame(function animate(time) {\r\n              // timeFraction goes from 0 to 1\r\n              let timeFraction = (time - start) / duration;\r\n              if (timeFraction > 1) timeFraction = 1;\r\n          \r\n              // calculate the current animation state\r\n              let progress = timing(timeFraction);\r\n          \r\n              draw(progress); // draw it\r\n          \r\n              if (timeFraction < 1) {\r\n                requestAnimationFrame(animate);\r\n              }\r\n          \r\n            });\r\n        }\r\n        \r\n        \r\n        function tempWrapFn(){\r\n        \r\n            box.dom.hidden = true;\r\n        \r\n            let skills = document.querySelectorAll('.superset__item'),\r\n                stack = document.querySelector('.stack');\r\n        \r\n            skills.forEach(skill=>{\r\n                skill.classList.add('temp-skill-item-styles');\r\n                stack.append(skill);\r\n            });\r\n        \r\n            let temp = document.createElement('span');\r\n        \r\n            temp.innerHTML = \"Sorry! This section is in production!\"\r\n            temp.classList.add('temp');\r\n        \r\n            stack.append(temp);\r\n        }\r\n    }\r\n\r\n    {\r\n        // Swipe handler\r\n        \r\n        document.addEventListener('touchstart', handleTouchStart, false);        \r\n        document.addEventListener('touchmove', handleTouchMove, false);\r\n        \r\n        let xDown = null;                                                        \r\n        let yDown = null;\r\n        let alignmentToNav = true;\r\n        \r\n        function getTouches(evt) {\r\n        return evt.touches ||             // browser API\r\n                evt.originalEvent.touches; // jQuery\r\n        }                                                     \r\n        \r\n        function handleTouchStart(evt) {\r\n            const firstTouch = getTouches(evt)[0];                                      \r\n            xDown = firstTouch.clientX;                                      \r\n            yDown = firstTouch.clientY;        \r\n        };                                                \r\n        \r\n        function handleTouchMove(evt) {\r\n            if ( ! xDown || ! yDown ) {\r\n                return;\r\n            }\r\n        \r\n            let xUp = evt.touches[0].clientX;                                    \r\n            let yUp = evt.touches[0].clientY;\r\n        \r\n            let xDiff = xDown - xUp;\r\n            let yDiff = yDown - yUp;\r\n        \r\n            alignmentToNav = (xDown + xUp)*4/3 > window.innerWidth ? true : false;\r\n            alignmentToNav = xUp < innerWidth/4 ? false : alignmentToNav;\r\n        \r\n            if ( Math.abs( xDiff ) > Math.abs( yDiff ) ) {/*most significant*/\r\n                if(!alignmentToNav) {\r\n                    if ( xDiff > 0 ) {\r\n                        /* left swipe */\r\n                        document.querySelector('#touch').checked = false;\r\n                    } else {\r\n                        /* right swipe */\r\n                        document.querySelector('#touch').checked = true;\r\n                    }  \r\n                } else {\r\n                    if ( xDiff > 0 ) {\r\n                        /* left swipe */\r\n                        document.querySelector('#nav').checked = true;\r\n                    } else {\r\n                        /* right swipe */\r\n                        document.querySelector('#nav').checked = false;\r\n                    }  \r\n                }                     \r\n            } \r\n            else {\r\n                if ( yDiff > 0 ) {\r\n                    /* up swipe */ \r\n                    // document.querySelector('#touch').checked = false; classList.remove('full-view');\r\n                } else { \r\n                    /* down swipe */\r\n                    // document.querySelector('#touch').checked = false; classList.remove('full-view');\r\n                }                                                                 \r\n            }\r\n            /* reset values */\r\n            xDown = null;\r\n            yDown = null;                                             \r\n        };\r\n    }\r\n\r\n    {\r\n        \r\n        addTimeToEmployments();\r\n        \r\n        \r\n        // functions\r\n        \r\n        \r\n        function addTimeToEmployments(){\r\n            let jobs = document.querySelectorAll('.job'),\r\n                rembud = jobs[0].querySelector('.job__time'),\r\n                cpi = jobs[1].querySelector('.job__time'),\r\n                // boeing = jobs[2].querySelector('.job__time'),\r\n                now = new Date(),\r\n                rembudStartDate =  new Date(2018, 6),\r\n                cpiStartDate = new Date(2017, 10);\r\n                // boeingStartDate = new Date(2017, 6);\r\n        \r\n            rembud.innerHTML = `working within ${getTimeStringFromTo(rembudStartDate, now)}`;    \r\n            cpi.innerHTML = `sarted ${getTimeStringFromTo(cpiStartDate, now)} ago`;  \r\n            // boeing.innerHTML = `worked ${getTimeStringFromTo(boeingStartDate, now)} ago`;     \r\n        }\r\n        \r\n        \r\n        function getTimeStringFromTo(dateObjFrom, dateObjTo = new Date()){\r\n        \r\n            let years = 0,\r\n                months = 0,\r\n                days = 0,\r\n                from = new Date(dateObjFrom.getTime()),\r\n                to = new Date(dateObjTo.getTime());\r\n        \r\n            while(from.getDate() != to.getDate()){\r\n                to.setDate(to.getDate()-1);\r\n                ++days;\r\n            }\r\n            while(from.getMonth() != to.getMonth()){\r\n                to.setMonth(to.getMonth()-1);\r\n                ++months;\r\n            }\r\n            while(from.getFullYear() != to.getFullYear()){\r\n                to.setFullYear(to.getFullYear()-1);\r\n                ++years;\r\n            }\r\n            return `${years > 0 ? years + ' year'+ (years == 1 ? \" \" : \"s \") : ''}${months > 0 ?( months + ' month' + (months == 1 ? \" \" : \"s \")) : ''}`;\r\n        }\r\n    }\r\n\r\n    {\r\n        let imgs = document.querySelectorAll('.poster__img');\r\n        // console.log(imgs.length);\r\n        imgs.forEach( function (img){\r\n            let imgClass = ((img.naturalWidth / img.naturalHeight) < 1.375) ? 'poster__img--tall' : 'poster__img--wide';\r\n            // console.log((img.naturalHeight / img.naturalWidth));\r\n            img.classList.add(imgClass);\r\n        });\r\n    }\r\n\r\n    {\r\n        \r\n        let inputs = document.querySelectorAll('.message__input');\r\n        inputs.forEach(function(input) {\r\n            input.addEventListener('input', function() {\r\n                // console.log(input.value);\r\n                // console.log(input.value.length);\r\n                if (input.value.length) {\r\n                    input.classList.add('filled');\r\n                } else {\r\n                    input.classList.remove('filled');\r\n                }\r\n            });\r\n        });\r\n        \r\n        // let btn = document.querySelector('#contactsSubmit');\r\n        // let form = document.querySelector('.contacts');\r\n        \r\n        // btn.addEventListener('click', function() {\r\n        //     form.classList.add('validated');\r\n        // });\r\n    }\r\n\r\n    {\r\n        myCarosel();\r\n        \r\n        function myCarosel(){\r\n        \r\n            let box = document.getElementById('portfolio').querySelector('.portfolio-slider'),\r\n            slides = box.querySelectorAll('.portfolio-slider>div');\r\n        \r\n            // slides.forEach(slide=>{\r\n            //     slide.style.display = \"inline-block\";\r\n            // });\r\n        \r\n            let width = slides[0].offsetWidth;\r\n        \r\n            let h = width/2 * 1 / Math.tan(180 / slides.length * Math.PI / 180);\r\n        \r\n            box.style.transform = `rotateY(0deg) translateZ(-${h}px)`;\r\n        \r\n            slides.forEach((slide, i)=>{\r\n                slide.style.cssText = `\r\n                    transform: rotateY(${360 / slides.length * i}deg)  translateZ(${h}px);\r\n                `;\r\n            });\r\n        \r\n        \r\n            //left btn\r\n        \r\n            let left = document.getElementById('sliderRotateLeft'),\r\n                right = document.getElementById('sliderRotateRight'),\r\n                rotationAngle = 0,\r\n                rotationStep = 360 / slides.length;\r\n        \r\n        \r\n            left.onclick = ()=>{\r\n                rotationAngle -= rotationStep;\r\n                box.style.transform = \"translateZ(-\" + h + \"px) rotateY(\" + rotationAngle + \"deg) \";\r\n            };\r\n        \r\n            right.onclick = ()=>{\r\n                rotationAngle += rotationStep;\r\n                box.style.transform = \"translateZ(-\" + h + \"px) rotateY(\" + rotationAngle + \"deg) \";\r\n            };\r\n        }\r\n    }\r\n})();\r\n\r\n//callbacks"]}