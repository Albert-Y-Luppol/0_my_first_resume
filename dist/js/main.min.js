(()=>{"use strict";{class t{constructor(t){class e{constructor(t,e=!0){this.left=e,this.dom=t,this.transform={translateZ:e?0:-100,rotateX:e?270:90},this.rebuildDom()}_constructTransform(){return`translateZ(${this.transform.translateZ}px) rotateX(${this.transform.rotateX}deg)`}rebuildDom(){this.dom.style.transform=""+this._constructTransform()}open(){this.transform.rotateX=this.left?60:300,this.rebuildDom()}close(){this.transform.rotateX=this.left?270:90,this.rebuildDom()}}this.dom=t,this.opened=!1,this.readyState=!0,this.transform={rotateX:0,rotateY:-80,rotateZ:0,scaleY:1,scaleX:1,scaleZ:1,translateX:0,translateY:.4*window.innerHeight,translateZ:0},this.leftDoor=new e(this.dom.querySelector(".box__side--top-left")),this.rightDoor=new e(this.dom.querySelector(".box__side--top-right"),!1),this.setBox=new class{constructor(t){class e{constructor(t,e){this.dom=t,this.dom.dataset.position=e,this.transform={translateZ:0,rotate:0,scale:1,translateY:0},this.superset=new class{constructor(t){class e{constructor(t,e){this.dom=t,this.dom.dataset.position=e,this.transform={rotate:0,scale:1,translateY:0}}_constructTransform(){return`rotateZ(${this.transform.rotate}deg) translateY(-${this.transform.translateY}px) scale(${this.transform.scale})`}rebuildDom(){this.transform.rotate=this.transform.rotate>=360?this.transform.rotate-360:this.transform.rotate,this.dom.style.transform=""+this._constructTransform(),this.dom.querySelector(".superset__skill-box").style.transform=`rotate(-${this.transform.rotate}deg) `}takePosition(){let t=this.dom.dataset.position.split("-");if(this.position=Number(t[0]),this.amount=Number(t[1]),0!=this.position){let t=70;this.transform.translateY=Math.max(this.amount*t/(2*Math.PI),Math.min(.4*window.innerWidth,.3*window.innerHeight)),this.transform.scale=1,this.dom.addEventListener("transitionend",function(){this.dom.style.transition="none",this.dom.querySelector(".superset__skill-box").style.transition="none"}.bind(this),{once:!0})}else{let t=70;this.transform.translateY=Math.max(this.amount*t/(2*Math.PI),Math.min(.4*window.innerWidth,.3*window.innerHeight)),this.transform.scale=1,this.dom.addEventListener("transitionend",function(){this.dom.style.transition="none",this.dom.querySelector(".superset__skill-box").style.transition="none",this.dom.closest(".superset__box").dispatchEvent(new Event("rotatesupersetitems"))}.bind(this),{once:!0})}this.transform.rotate=360/this.amount*this.position,this.rebuildDom()}revert(){this.dom.style.transition="",this.transform.scale=0,this.transform.translateY=0,this.transform.rotate=0,this.rebuildDom()}}this.dom=t,this.transform={translateY:0,rotate:0,scale:.1},this.items=[],this.dom.addEventListener("rotatesupersetitems",function(t){this.rotateItems()}.bind(this)),this.dom.querySelectorAll(".superset__item").forEach(function(t,s,i){this.items.push(new e(t,`${s}-${i.length}`))}.bind(this)),this.rebuildDom()}_constructTransform(){return`rotate(${this.transform.rotate}deg) translateY(${this.transform.translateY}px) scale(${this.transform.scale})`}rebuildDom(){this.dom.style.transform=""+this._constructTransform()}out(){this.transform.scale=.8;this.transform.translateY=Math.max(70*this.items.length/(2*Math.PI),Math.min(.4*window.innerWidth,.3*window.innerHeight))-.2*window.innerHeight,this.items.forEach(t=>t.takePosition()),this.rebuildDom()}in(){this.rotate=!1,this.transform.scale=.1,this.transform.translateY=0,this.items.forEach(t=>t.revert()),this.rebuildDom()}rotateItems(){this.rotate=!0;requestAnimationFrame(function t(){this.rotate&&(this.items.forEach(t=>{t.transform.rotate+=.2,t.rebuildDom()}),requestAnimationFrame(t.bind(this)))}.bind(this))}}(this.dom.querySelector(".superset__box"))}_constructTransform(){return`translateY(${this.transform.translateY}px) rotateY(${this.transform.rotate}deg) translateZ(${this.transform.translateZ}px) scale(${this.transform.scale})`}rebuildDom(){this.transform.rotate=this.transform.rotate>=360?this.transform.rotate-360:this.transform.rotate,this.dom.style.transform=""+this._constructTransform(),this.dom.querySelector(".diamond").style.transform=`rotateY(-${this.transform.rotate}deg) `}takePosition(){let t=this.dom.dataset.position.split("-");this.position=Number(t[0]),this.amount=Number(t[1]),0!=this.position?(this.transform.translateZ=Math.max(Math.min(100,.2*window.innerWidth),75),this.transform.scale=1,this.transform.translateY=0,this.dom.addEventListener("transitionend",function(){this.dom.style.transition="none",this.dom.querySelector(".diamond").style.transition="none"}.bind(this),{once:!0})):(this.transform.translateZ=0,this.transform.scale=1.25,this.transform.translateY=-70,this.dom.addEventListener("transitionend",function(){this.dom.style.transition="none",this.dom.querySelector(".diamond").style.transition="none",this.dom.closest(".set__box").dispatchEvent(new Event("rotateitems")),this.superset.out()}.bind(this),{once:!0})),this.transform.rotate=360/this.amount*this.position,this.rebuildDom()}revert(){this.superset.in(),this.dom.style.transition="",this.dom.querySelector(".diamond").style.transition="",this.transform.translateZ=0,this.transform.scale=1,this.transform.translateY=0,this.transform.rotate=0,this.rebuildDom()}switchPositionWith(t){this.dom.style.transition="",t.dom.style.transition="",t.dom.querySelector(".diamond").style.transition="",this.dom.querySelector(".diamond").style.transition="",this.superset.in(),this.superset.dom.addEventListener("transitionend",function(e){t.transform.rotate<180&&(t.transform.rotate+=360);let s=t.transform,i=t.position;t.transform=this.transform,t.dom.querySelector(".diamond").style.transform=`rotateY(-${t.transform.rotate}deg) `,t.position=this.position,this.transform=s,this.position=i,this.dom.querySelector(".diamond").style.transform=`rotateY(-${this.transform.rotate}deg) `,t.dom.addEventListener("transitionend",function(){t.dom.style.transition="none",this.dom.style.transition="none",t.dom.querySelector(".diamond").style.transition="none",this.dom.querySelector(".diamond").style.transition="none",t.dom.closest(".set__box").dispatchEvent(new Event("rotateitems")),t.superset.out()}.bind(this),{once:!0}),this.rebuildDom(),t.rebuildDom()}.bind(this),{once:!0})}}this.dom=t,this.transform={translateY:0,scale:1},this.rebuildDom(),this.items=[],this.readyState=!1,this.dom.addEventListener("rotateitems",function(t){this.rotateItems()}.bind(this)),this.dom.querySelectorAll(".set__item").forEach(function(t,s,i){this.items.push(new e(t,`${s}-${i.length-1}`))}.bind(this)),this.dom.addEventListener("click",this.switchItems.bind(this))}_constructTransform(){return`translateY(${this.transform.translateY}px) scale(${this.transform.scale})`}rebuildDom(){this.dom.style.transform=""+this._constructTransform()}flyOut(){this.dom.addEventListener("transitionend",function(){this.displayFullView()}.bind(this),{once:!0}),this.transform.translateY=.2*-window.innerHeight,this.transform.scale=1.5,this.rebuildDom()}flyIn(){this.collapseFullView(),this.transform.translateY=0,this.transform.scale=1,this.rebuildDom()}displayFullView(){this.items.forEach(t=>t.takePosition())}collapseFullView(){this.rotate=!1,this.items.forEach(t=>t.revert())}rotateItems(){this.dom.dispatchEvent(new Event("boxopened",{bubbles:!0})),this.readyState=!0,this.rotate=!0;requestAnimationFrame(function t(){this.rotate&&(this.items.forEach(t=>{0!=t.position&&(t.transform.rotate+=.5,t.rebuildDom())}),requestAnimationFrame(t.bind(this)))}.bind(this))}switchItems(t){if(!t.target.closest(".set__item"))return;if(!this.readyState)return;let e=this.items.find(e=>e.dom==t.target.closest(".set__item")),s=this.items.find(t=>0==t.position);e!=s&&(this.readyState=!1,this.rotate=!1,s.switchPositionWith(e))}}(this.dom.querySelector(".set__box")),this.dom.addEventListener("click",function(t){t.target.matches(".box__side")&&this.readyState&&(0==this.opened?(this.opened=!0,this.dom.classList.add("box--opened")):(this.dom.classList.remove("box--opened"),this.close()),this.readyState=!1)}.bind(this)),this.dom.addEventListener("boxopened",function(t){this.readyState=!0}.bind(this)),this.rebuildDom(),this.initiateJumps()}rebuildDom(){this.dom.style.transform=""+this._constructTransform()}open(){this.leftDoor.open(),this.rightDoor.dom.addEventListener("transitionend",function(){this.setBox.flyOut()}.bind(this),{once:!0}),this.rightDoor.open()}close(){this.setBox.flyIn(),this.setBox.dom.addEventListener("transitionend",function t(e){e.target==this.setBox.dom?(this.leftDoor.close(),this.rightDoor.close()):this.setBox.dom.addEventListener("transitionend",t.bind(this),{once:!0})}.bind(this),{once:!0}),this.leftDoor.dom.addEventListener("transitionend",function(t){this.opened=!1,this.readyState=!0,this.initiateJumps()}.bind(this),{once:!0})}jump(){function t(){this._animate({timing:function(t){return t=1-t,Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*1.5/3*t)},draw:t=>{this._deformate(1-t)},duration:2e3},new Event("groundSwinged"))}function e(){this._animate({timing:function(t){return 1- --t*t*t*t},draw:t=>{this._deformate(1-t)},duration:200},new Event("grounded"))}function s(){this._animate({timing:function(t){return t*t*t},draw:t=>{this._translateY(1-t)},duration:1e3},new Event("falledDown"))}function i(){this._animate({timing:function(t){return--t*t*t+1},draw:t=>{this._translateY(t)},duration:1400},new Event("flyedUp"))}function n(){let t=-10;this._animate({timing:function(t){return t=1-t,Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*1.5/3*t)},draw:e=>{this._deformate(1-e),1-e<=t||1-e>=1?this.dom.dispatchEvent(new Event("accelerated")):t=1-e},duration:2e3})}this.dom.addEventListener("preparedToJump",function(t){n.apply(this)}.bind(this),{once:!0}),this.dom.addEventListener("accelerated",function(t){i.apply(this),this.dom.style.transformOrigin="center center -50px"}.bind(this),{once:!0}),this.dom.addEventListener("flyedUp",function(t){this.dom.style.transformOrigin="",s.apply(this)}.bind(this),{once:!0}),this.dom.addEventListener("falledDown",function(t){e.apply(this)}.bind(this),{once:!0}),this.dom.addEventListener("grounded",function(e){t.apply(this)}.bind(this),{once:!0}),this.dom.addEventListener("groundSwinged",function(t){this.initiateJumps()}.bind(this),{once:!0}),function(){this._animate({timing:function(t){return t*(2-t)},draw:t=>{this._deformate(1-t)},duration:1e3},new Event("preparedToJump"))}.apply(this)}initiateJumps(){this.opened?this.open():setTimeout(function(){this.opened?this.initiateJumps():this.jump()}.bind(this),200)}_constructTransform(){return`translateX(${this.transform.translateX}px) translateY(${this.transform.translateY}px) translateZ(${this.transform.translateZ}px) rotateX(${this.transform.rotateX}deg) rotateY(${this.transform.rotateY}deg) rotateZ(${this.transform.rotateZ}deg) scaleY(${this.transform.scaleY}) scaleX(${this.transform.scaleX}) scaleZ(${this.transform.scaleZ})`}_deformate(t){let e={y:t=.6+.4*t,x:1+(1-t)**2*(t>1?-1:1),z:1+(1-t)**2*(t>1?-1:1)};this.transform.scaleX=e.x,this.transform.scaleY=e.y,this.transform.scaleZ=e.z,this.rebuildDom()}_translateY(t){let e=.2*window.innerHeight,s=.4*-window.innerHeight;t=Math.abs(e-s)*t+s,this.transform.translateY=-t,this.rebuildDom()}_animate({timing:t,draw:e,duration:s},i){let n=performance.now();requestAnimationFrame(function o(r){let a=(r-n)/s;a>1&&(a=1);let h=t(a);e(h),a<1?requestAnimationFrame(o.bind(this)):i&&this.dom.dispatchEvent(i)}.bind(this))}}new t(document.getElementById("skillsBox"))}{document.addEventListener("touchstart",(function(s){const i=function(t){return t.touches||t.originalEvent.touches}(s)[0];t=i.clientX,e=i.clientY}),!1),document.addEventListener("touchmove",(function(i){if(!t||!e)return;let n=i.touches[0].clientX,o=i.touches[0].clientY,r=t-n,a=e-o;s=4*(t+n)/3>window.innerWidth,s=!(n<innerWidth/4)&&s,Math.abs(r)>Math.abs(a)&&(s?document.querySelector("#nav").checked=r>0:document.querySelector("#touch").checked=!(r>0));t=null,e=null}),!1);let t=null,e=null,s=!0}{function t(t,e=new Date){let s=0,i=0,n=new Date(t.getTime()),o=new Date(e.getTime());for(;n.getDate()!=o.getDate();)o.setDate(o.getDate()-1);for(;n.getMonth()!=o.getMonth();)o.setMonth(o.getMonth()-1),++i;for(;n.getFullYear()!=o.getFullYear();)o.setFullYear(o.getFullYear()-1),++s;return`${s>0?s+" year"+(1==s?" ":"s "):""}${i>0?i+" month"+(1==i?" ":"s "):""}`}!function(){let e=document.querySelectorAll(".job"),s=e[0].querySelector(".job__time"),i=e[1].querySelector(".job__time"),n=new Date,o=new Date(2018,6),r=new Date(2017,10);s.innerHTML="working within "+t(o,n),i.innerHTML=`sarted ${t(r,n)} ago`}()}document.querySelectorAll(".poster__img").forEach((function(t){let e=t.naturalWidth/t.naturalHeight<1.375?"poster__img--tall":"poster__img--wide";t.classList.add(e)}));document.querySelectorAll(".message__input").forEach((function(t){t.addEventListener("input",(function(){t.value.length?t.classList.add("filled"):t.classList.remove("filled")}))}));!function(){let t=document.getElementById("portfolio").querySelector(".portfolio-slider"),e=t.querySelectorAll(".portfolio-slider>div"),s=e[0].offsetWidth/2*1/Math.tan(180/e.length*Math.PI/180);t.style.transform=`rotateY(0deg) translateZ(-${s}px)`,e.forEach((t,i)=>{t.style.cssText=`\n                    transform: rotateY(${360/e.length*i}deg)  translateZ(${s}px);\n                `});let i=document.getElementById("sliderRotateLeft"),n=document.getElementById("sliderRotateRight"),o=0,r=360/e.length;i.onclick=()=>{o-=r,t.style.transform="translateZ(-"+s+"px) rotateY("+o+"deg) "},n.onclick=()=>{o+=r,t.style.transform="translateZ(-"+s+"px) rotateY("+o+"deg) "}}()})();{let t,e=document.querySelectorAll("section"),s=document.styleSheets[0].rules||document.styleSheets[0].cssRules,i={};for(let t=0;t<s.length;t++)i[s[t].selectorText]=s[t].style;function changeScrollbarColor(){let t=document.documentElement.clientHeight,s=window.pageYOffset,n=0;for(;s>=0;)s-=e[n].scrollHeight,n++;e[n-1].getBoundingClientRect().bottom>.4*t?i["body::-webkit-scrollbar-thumb"].backgroundColor=e[n-1].dataset.scrollbar:i["body::-webkit-scrollbar-thumb"].backgroundColor=e[n].dataset.scrollbar}window.addEventListener("scroll",e=>{clearTimeout(t),t=setTimeout(changeScrollbarColor,1e3)},{passive:!0})}
//# sourceMappingURL=maps/main.min.js.map
