(()=>{"use strict";{class t{constructor(t){class e{constructor(t,e=!0){this.left=e,this.dom=t,this.transform={translateZ:e?0:-100,rotateX:e?270:90},this.rebuildDom()}_constructTransform(){return`translateZ(${this.transform.translateZ}px) rotateX(${this.transform.rotateX}deg)`}rebuildDom(){this.dom.style.transform=`${this._constructTransform()}`}open(){this.transform.rotateX=this.left?60:300,this.rebuildDom()}close(){this.transform.rotateX=this.left?270:90,this.rebuildDom()}}this.dom=t,this.opened=!1,this.transform={rotateX:0,rotateY:-80,rotateZ:0,scaleY:1,scaleX:1,scaleZ:1,translateX:0,translateY:.4*window.innerHeight,translateZ:0},this.leftDoor=new e(this.dom.querySelector(".box__side--top-left")),this.rightDoor=new e(this.dom.querySelector(".box__side--top-right"),!1),this.setBox=new class{constructor(t){class e{constructor(t,e){this.dom=t,this.dom.dataset.position=e,this.transform={translateZ:0,rotate:0,scale:1,translateY:0}}_constructTransform(){return`translateY(${this.transform.translateY}px) rotateY(${this.transform.rotate}deg) translateZ(${this.transform.translateZ}px) scale(${this.transform.scale})`}rebuildDom(){this.transform.rotate=this.transform.rotate>=360?this.transform.rotate-360:this.transform.rotate,this.dom.style.transform=`${this._constructTransform()}`,this.dom.querySelector(".diamond").style.transform=`rotateY(-${this.transform.rotate}deg) `}takePosition(){let t=this.dom.dataset.position.split("-");this.position=Number(t[0]),this.amount=Number(t[1]),0!=this.position?(this.transform.translateZ=Math.max(Math.min(100,.2*window.innerWidth),75),this.transform.scale=1,this.transform.translateY=0,this.dom.addEventListener("transitionend",function(){this.dom.style.transition="none",this.dom.querySelector(".diamond").style.transition="none"}.bind(this),{once:!0})):(this.transform.translateZ=0,this.transform.scale=1.25,this.transform.translateY=-70,this.dom.addEventListener("transitionend",function(){this.dom.style.transition="none",this.dom.querySelector(".diamond").style.transition="none",this.dom.closest(".set__box").dispatchEvent(new Event("rotateitems"))}.bind(this),{once:!0})),this.transform.rotate=360/this.amount*this.position,this.rebuildDom()}revert(){this.dom.style.transition="",this.transform.translateZ=0,this.transform.scale=0,this.transform.translateY=0,this.transform.rotate=0,this.rebuildDom()}}this.dom=t,this.transform={translateY:0,scale:1},this.rebuildDom(),this.items=[],this.dom.addEventListener("rotateitems",function(t){this.rotateItems()}.bind(this)),this.dom.querySelectorAll(".set__item").forEach(function(t,n,s){this.items.push(new e(t,`${n}-${s.length-1}`))}.bind(this))}_constructTransform(){return`translateY(${this.transform.translateY}px) scale(${this.transform.scale})`}rebuildDom(){this.dom.style.transform=`${this._constructTransform()}`}flyOut(){this.dom.addEventListener("transitionend",function(){this.displayFullView()}.bind(this),{once:!0}),this.transform.translateY=.2*-window.innerHeight,this.transform.scale=1.5,this.rebuildDom()}flyIn(){this.transform.translateY=0,this.transform.scale=1,this.rebuildDom()}displayFullView(){this.items.forEach(t=>t.takePosition())}collapseFullView(){this.rotate=!1,this.items.forEach(t=>t.revert())}rotateItems(){this.rotate=!0;requestAnimationFrame(function t(){this.rotate&&(this.items.forEach(t=>{0!=t.position&&(t.transform.rotate+=.5,t.rebuildDom())}),requestAnimationFrame(t.bind(this)))}.bind(this))}}(this.dom.querySelector(".set__box")),this.rebuildDom(),this.initiateJumps()}rebuildDom(){this.dom.style.transform=`${this._constructTransform()}`}open(){this.leftDoor.open(),this.rightDoor.dom.addEventListener("transitionend",function(){this.setBox.flyOut()}.bind(this),{once:!0}),this.rightDoor.open()}close(){this.leftDoor.close(),this.rightDoor.close()}jump(){function t(){this._animate({timing:function(t){return t=1-t,Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*1.5/3*t)},draw:t=>{this._deformate(1-t)},duration:2e3},new Event("groundSwinged"))}function e(){this._animate({timing:function(t){return 1- --t*t*t*t},draw:t=>{this._deformate(1-t)},duration:200},new Event("grounded"))}function n(){this._animate({timing:function(t){return t*t*t},draw:t=>{this._translateY(1-t)},duration:1e3},new Event("falledDown"))}function s(){this._animate({timing:function(t){return--t*t*t+1},draw:t=>{this._translateY(t)},duration:1400},new Event("flyedUp"))}function r(){let t=-10;this._animate({timing:function(t){return t=1-t,Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*1.5/3*t)},draw:e=>{this._deformate(1-e),1-e<=t||1-e>=1?this.dom.dispatchEvent(new Event("accelerated")):t=1-e},duration:2e3})}this.dom.addEventListener("preparedToJump",function(t){r.apply(this)}.bind(this),{once:!0}),this.dom.addEventListener("accelerated",function(t){s.apply(this),this.dom.style.transformOrigin="center center -50px"}.bind(this),{once:!0}),this.dom.addEventListener("flyedUp",function(t){this.dom.style.transformOrigin="",n.apply(this)}.bind(this),{once:!0}),this.dom.addEventListener("falledDown",function(t){e.apply(this)}.bind(this),{once:!0}),this.dom.addEventListener("grounded",function(e){t.apply(this)}.bind(this),{once:!0}),this.dom.addEventListener("groundSwinged",function(t){this.initiateJumps()}.bind(this),{once:!0}),function(){this._animate({timing:function(t){return t*(2-t)},draw:t=>{this._deformate(1-t)},duration:1e3},new Event("preparedToJump"))}.apply(this)}initiateJumps(){this.dom.addEventListener("click",function(t){this.opened=!0}.bind(this),{once:!0}),this.opened?this.open():setTimeout(function(){this.opened?this.initiateJumps():this.jump()}.bind(this),700)}_constructTransform(){return`translateX(${this.transform.translateX}px) translateY(${this.transform.translateY}px) translateZ(${this.transform.translateZ}px) rotateX(${this.transform.rotateX}deg) rotateY(${this.transform.rotateY}deg) rotateZ(${this.transform.rotateZ}deg) scaleY(${this.transform.scaleY}) scaleX(${this.transform.scaleX}) scaleZ(${this.transform.scaleZ})`}_deformate(t){let e={y:t=.6+.4*t,x:1+(1-t)**2*(t>1?-1:1),z:1+(1-t)**2*(t>1?-1:1)};this.transform.scaleX=e.x,this.transform.scaleY=e.y,this.transform.scaleZ=e.z,this.rebuildDom()}_translateY(t){let e=.2*window.innerHeight,n=.4*-window.innerHeight;t=Math.abs(e-n)*t+n,this.transform.translateY=-t,this.rebuildDom()}_animate({timing:t,draw:e,duration:n},s){let r=performance.now();requestAnimationFrame(function i(o){let a=(o-r)/n;a>1&&(a=1);let l=t(a);e(l),a<1?requestAnimationFrame(i.bind(this)):s&&this.dom.dispatchEvent(s)}.bind(this))}}new t(document.getElementById("skillsBox"))}{document.addEventListener("touchstart",(function(n){const s=function(t){return t.touches||t.originalEvent.touches}(n)[0];t=s.clientX,e=s.clientY}),!1),document.addEventListener("touchmove",(function(s){if(!t||!e)return;let r=s.touches[0].clientX,i=s.touches[0].clientY,o=t-r,a=e-i;n=4*(t+r)/3>window.innerWidth,n=!(r<innerWidth/4)&&n,Math.abs(o)>Math.abs(a)&&(n?document.querySelector("#nav").checked=o>0:document.querySelector("#touch").checked=!(o>0));t=null,e=null}),!1);let t=null,e=null,n=!0}{function t(t,e=new Date){let n=0,s=0,r=new Date(t.getTime()),i=new Date(e.getTime());for(;r.getDate()!=i.getDate();)i.setDate(i.getDate()-1);for(;r.getMonth()!=i.getMonth();)i.setMonth(i.getMonth()-1),++s;for(;r.getFullYear()!=i.getFullYear();)i.setFullYear(i.getFullYear()-1),++n;return`${n>0?n+" year"+(1==n?" ":"s "):""}${s>0?s+" month"+(1==s?" ":"s "):""}`}!function(){let e=document.querySelectorAll(".job"),n=e[0].querySelector(".job__time"),s=e[1].querySelector(".job__time"),r=new Date,i=new Date(2018,6),o=new Date(2017,10);n.innerHTML=`working within ${t(i,r)}`,s.innerHTML=`sarted ${t(o,r)} ago`}()}document.querySelectorAll(".poster__img").forEach((function(t){let e=t.naturalWidth/t.naturalHeight<1.375?"poster__img--tall":"poster__img--wide";t.classList.add(e)}));document.querySelectorAll(".message__input").forEach((function(t){t.addEventListener("input",(function(){t.value.length?t.classList.add("filled"):t.classList.remove("filled")}))}));!function(){let t=document.getElementById("portfolio").querySelector(".portfolio-slider"),e=t.querySelectorAll(".portfolio-slider>div"),n=e[0].offsetWidth/2*1/Math.tan(180/e.length*Math.PI/180);t.style.transform=`rotateY(0deg) translateZ(-${n}px)`,e.forEach((t,s)=>{t.style.cssText=`\n                    transform: rotateY(${360/e.length*s}deg)  translateZ(${n}px);\n                `});let s=document.getElementById("sliderRotateLeft"),r=document.getElementById("sliderRotateRight"),i=0,o=360/e.length;s.onclick=()=>{i-=o,t.style.transform="translateZ(-"+n+"px) rotateY("+i+"deg) "},r.onclick=()=>{i+=o,t.style.transform="translateZ(-"+n+"px) rotateY("+i+"deg) "}}()})();{let t,e=document.querySelectorAll("section"),n=document.styleSheets[0].rules||document.styleSheets[0].cssRules,s={};for(let t=0;t<n.length;t++)s[n[t].selectorText]=n[t].style;function changeScrollbarColor(){let t=document.documentElement.clientHeight,n=window.pageYOffset,r=0;for(;n>=0;)n-=e[r].scrollHeight,r++;e[r-1].getBoundingClientRect().bottom>.4*t?s["body::-webkit-scrollbar-thumb"].backgroundColor=e[r-1].dataset.scrollbar:s["body::-webkit-scrollbar-thumb"].backgroundColor=e[r].dataset.scrollbar}window.addEventListener("scroll",e=>{clearTimeout(t),t=setTimeout(changeScrollbarColor,1e3)},{passive:!0})}
//# sourceMappingURL=maps/main.min.js.map
