(()=>{"use strict";{class t{constructor(t){class e{constructor(t,e=!0){this.left=e,this.dom=t,this.transform={translateZ:e?0:-100,rotateX:e?270:90},this.rebuildDom()}_constructTransform(){return`translateZ(${this.transform.translateZ}px) rotateX(${this.transform.rotateX}deg)`}rebuildDom(){this.dom.style.transform=`${this._constructTransform()}`}open(){this.transform.rotateX=this.left?60:300,this.rebuildDom()}close(){this.transform.rotateX=this.left?270:90,this.rebuildDom()}}this.dom=t,this.opened=!1,this.transform={rotateX:0,rotateY:-80,rotateZ:0,scaleY:1,scaleX:1,scaleZ:1,translateX:0,translateY:.4*window.innerHeight,translateZ:0},this.leftDoor=new e(this.dom.querySelector(".box__side--top-left")),this.rightDoor=new e(this.dom.querySelector(".box__side--top-right"),!1),this.rebuildDom()}rebuildDom(){this.dom.style.transform=`${this._constructTransform()}`}open(){this.leftDoor.open(),this.rightDoor.open()}close(){this.leftDoor.close(),this.rightDoor.close()}jump(){function t(){this._animate({timing:function(t){return t=1-t,Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*1.5/3*t)},draw:t=>{this._deformate(1-t)},duration:2e3},new Event("groundSwinged"))}function e(){this._animate({timing:function(t){return 1- --t*t*t*t},draw:t=>{this._deformate(1-t)},duration:200},new Event("grounded"))}function n(){this._animate({timing:function(t){return t*t*t},draw:t=>{this._translateY(1-t)},duration:1e3},new Event("falledDown"))}function r(){this._animate({timing:function(t){return--t*t*t+1},draw:t=>{this._translateY(t)},duration:1400},new Event("flyedUp"))}function o(){let t=-10;this._animate({timing:function(t){return t=1-t,Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*1.5/3*t)},draw:e=>{this._deformate(1-e),1-e<=t||1-e>=1?this.dom.dispatchEvent(new Event("accelerated")):t=1-e},duration:2e3})}this.dom.addEventListener("preparedToJump",function(t){o.apply(this)}.bind(this),{once:!0}),this.dom.addEventListener("accelerated",function(t){r.apply(this),this.dom.style.transformOrigin="center center -50px"}.bind(this),{once:!0}),this.dom.addEventListener("flyedUp",function(t){this.dom.style.transformOrigin="",n.apply(this)}.bind(this),{once:!0}),this.dom.addEventListener("falledDown",function(t){e.apply(this)}.bind(this),{once:!0}),this.dom.addEventListener("grounded",function(e){t.apply(this)}.bind(this),{once:!0}),this.dom.addEventListener("groundSwinged",function(t){}.bind(this),{once:!0}),function(){this._animate({timing:function(t){return t*(2-t)},draw:t=>{this._deformate(1-t)},duration:1e3},new Event("preparedToJump"))}.apply(this)}_constructTransform(){return`translateX(${this.transform.translateX}px) translateY(${this.transform.translateY}px) translateZ(${this.transform.translateZ}px) rotateX(${this.transform.rotateX}deg) rotateY(${this.transform.rotateY}deg) rotateZ(${this.transform.rotateZ}deg) scaleY(${this.transform.scaleY}) scaleX(${this.transform.scaleX}) scaleZ(${this.transform.scaleZ})`}_deformate(t){let e={y:t=.6+.4*t,x:1+(1-t)**2*(t>1?-1:1),z:1+(1-t)**2*(t>1?-1:1)};this.transform.scaleX=e.x,this.transform.scaleY=e.y,this.transform.scaleZ=e.z,this.rebuildDom()}_translateY(t){let e=.2*window.innerHeight,n=.4*-window.innerHeight;t=Math.abs(e-n)*t+n,this.transform.translateY=-t,this.rebuildDom()}_animate({timing:t,draw:e,duration:n},r){let o=performance.now();requestAnimationFrame(function i(s){let a=(s-o)/n;a>1&&(a=1);let l=t(a);e(l),a<1?requestAnimationFrame(i.bind(this)):r&&this.dom.dispatchEvent(r)}.bind(this))}}let e=new t(document.getElementById("skillsBox"));e.jump();setInterval(()=>{e.jump()},7e3)}{document.addEventListener("touchstart",(function(n){const r=function(t){return t.touches||t.originalEvent.touches}(n)[0];t=r.clientX,e=r.clientY}),!1),document.addEventListener("touchmove",(function(r){if(!t||!e)return;let o=r.touches[0].clientX,i=r.touches[0].clientY,s=t-o,a=e-i;n=4*(t+o)/3>window.innerWidth,n=!(o<innerWidth/4)&&n,Math.abs(s)>Math.abs(a)&&(n?document.querySelector("#nav").checked=s>0:document.querySelector("#touch").checked=!(s>0));t=null,e=null}),!1);let t=null,e=null,n=!0}{function t(t,e=new Date){let n=0,r=0,o=new Date(t.getTime()),i=new Date(e.getTime());for(;o.getDate()!=i.getDate();)i.setDate(i.getDate()-1);for(;o.getMonth()!=i.getMonth();)i.setMonth(i.getMonth()-1),++r;for(;o.getFullYear()!=i.getFullYear();)i.setFullYear(i.getFullYear()-1),++n;return`${n>0?n+" year"+(1==n?" ":"s "):""}${r>0?r+" month"+(1==r?" ":"s "):""}`}!function(){let e=document.querySelectorAll(".job"),n=e[0].querySelector(".job__time"),r=e[1].querySelector(".job__time"),o=new Date,i=new Date(2018,6),s=new Date(2017,10);n.innerHTML=`working within ${t(i,o)}`,r.innerHTML=`sarted ${t(s,o)} ago`}()}document.querySelectorAll(".poster__img").forEach((function(t){let e=t.naturalWidth/t.naturalHeight<1.375?"poster__img--tall":"poster__img--wide";t.classList.add(e)}));document.querySelectorAll(".message__input").forEach((function(t){t.addEventListener("input",(function(){t.value.length?t.classList.add("filled"):t.classList.remove("filled")}))}));!function(){let t=document.getElementById("portfolio").querySelector(".portfolio-slider"),e=t.querySelectorAll(".portfolio-slider>div"),n=e[0].offsetWidth/2*1/Math.tan(180/e.length*Math.PI/180);t.style.transform=`rotateY(0deg) translateZ(-${n}px)`,e.forEach((t,r)=>{t.style.cssText=`\n                    transform: rotateY(${360/e.length*r}deg)  translateZ(${n}px);\n                `});let r=document.getElementById("sliderRotateLeft"),o=document.getElementById("sliderRotateRight"),i=0,s=360/e.length;r.onclick=()=>{i-=s,t.style.transform="translateZ(-"+n+"px) rotateY("+i+"deg) "},o.onclick=()=>{i+=s,t.style.transform="translateZ(-"+n+"px) rotateY("+i+"deg) "}}()})();
//# sourceMappingURL=maps/main.min.js.map
